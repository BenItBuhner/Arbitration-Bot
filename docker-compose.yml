version: "3.8"

services:
  cross-platform-analysis:
    build: .
    command:
      [
        "--mode",
        "cross-platform-analysis",
        "--coins",
        "eth",
        "--headless-summary"
      ]
    restart: unless-stopped
    volumes:
      - ./logs:/app/logs
    environment:
      NODE_ENV: production

  arbitrage-bot:
    build: .
    command:
      [
        "--mode",
        "fake-trade",
        "--profiles",
        "arbBotV1",
        "--coins",
        "all",
        "--headless"
      ]
    restart: unless-stopped
    volumes:
      - ./logs:/app/logs
    environment:
      NODE_ENV: production
      # Required: set these in .env or pass via docker-compose --env-file
      # KALSHI_API_KEY: ""
      # KALSHI_PRIVATE_KEY_PEM: ""
      # KALSHI_ENV: "demo"
    stop_grace_period: 10s
